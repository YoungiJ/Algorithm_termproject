<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>BusyBees</title>
  <link rel="stylesheet" href="../css/next.css">
</head>
  <body>
    <header>
      <h1>BusyBeesüêù</h1>
      <nav>
        <ul>
          <li><a href="../index.html"><b>HOME</b></a></li>
          <li><a href="../index.html"><b>MY PAGE</b></a></li>
        </ul>
      </nav>
    </header>
    <main>
      <div id="map"></div>
      <div id="form-container">
        <form>
          <div class="button-container">
            <button id="plusButton" type="button" onclick="addWaypoint()">+</button>
            <button id="minusButton" type="button" onclick="removeWaypoint()">-</button>
          </div>

          <!-- Ï∂úÎ∞úÏßÄ ÏûÖÎ†• ÌïÑÎìúÏôÄ ÏûêÎèôÏôÑÏÑ± Î™©Î°ù -->
          <div class="input-wrapper">
            <input type="text" placeholder="departure" id="start">
            <ul id="start-autocomplete-list" class="autocomplete-list"></ul>
          </div>

          <!-- Í≤ΩÏú†ÏßÄ ÏûÖÎ†• ÌïÑÎìúÏôÄ ÏûêÎèôÏôÑÏÑ± Î™©Î°ù -->
          <!-- Ïã§Ï†ú ÏΩîÎìúÏóêÏÑúÎäî Í∞Å Í≤ΩÏú†ÏßÄ ÏûÖÎ†•ÎûÄÎßàÎã§ Í≥†Ïú†Ìïú IDÎ•º Î∂ÄÏó¨ÌïòÍ≥†, ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏Î°ú Ï∂îÍ∞ÄÌï¥Ïïº Ìï©ÎãàÎã§. -->
          <div id="waypoints-container">
            <input type="text" placeholder="stopover" class="waypoint-input">
            <ul id="waypoint-autocomplete-list" class="autocomplete-list"></ul>
          </div>

          <!-- ÎèÑÏ∞©ÏßÄ ÏûÖÎ†• ÌïÑÎìúÏôÄ ÏûêÎèôÏôÑÏÑ± Î™©Î°ù -->
          <div class="input-wrapper">
            <input type="text" placeholder="arrival" id="destination">
            <ul id="destination-autocomplete-list" class="autocomplete-list"></ul>
          </div>


          <button type="submit">Í≤ÄÏÉâ</button>
        </form>
      </div>


      <!-- Ïπ¥Ïπ¥Ïò§Îßµ API Ïä§ÌÅ¨Î¶ΩÌä∏ -->
      <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=4aaaab13e8df34cb92f85f80a8e42bad"></script>
      <!-- Î©îÏù∏ JavaScript ÌååÏùº -->
      <script src="../js/next.js"></script>
      <script>
        var userWeight = localStorage.getItem('weight');

        document.addEventListener('DOMContentLoaded', function() {
          // Call the calculateCalorie function
          calculateCalorie();
        });

        function calculateCalorie() {
          // Your existing calculateCalorie function logic
          var distance = document.getElementById("distance").innerText;
          var duration = document.getElementById("duration").innerText;

          // Check if userWeight is available
      if (!userWeight || isNaN(parseFloat(userWeight)) || parseFloat(userWeight) <= 0) {
        alert('Ïú†Ìö®Ìïú Î™∏Î¨¥Í≤å Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.');
        return;
      }
          var weight = parseFloat(userWeight);
          var speed = 4; // km/h
          var calorie = (weight * 220.06) / 1000;

          // Display the calculated calorie result in the HTML element
          var calorieResultElement = document.getElementById("calorieResult");
          calorieResultElement.innerText = calorie.toFixed(2) + "kcal";
        }
      </script>
      <script src="../js/search.js"></script>
    </main>
  </body>

<footer>
  <!-- .rounded-boxÎ•º footer ÎÇ¥Î∂ÄÏóê Î∞∞ÏπòÌï©ÎãàÎã§ -->
  <div class="rounded-box">
    <div id="distance"><b>DISTANCE km</b></div><br>
    <div id="duration"><b>üö∂‚Äç‚ôÇÔ∏èESTIMATED TIME</b></div>
    <div id="calorieResult"></div>
  </div>
</footer>
</html>
